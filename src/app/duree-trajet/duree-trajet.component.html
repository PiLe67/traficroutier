<head>
    <link rel="stylesheet" type="text/css" href="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.57.0/maps/maps.css">

    <link rel="stylesheet" type="text/css" href="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.57.0/maps/css-styles/traffic-incidents.css" /> 

    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.57.0/maps/maps-web.min.js"></script>
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.57.0/services/services-web.min.js"></script>
</head>

<body>
    <div class="content">
        <h1 class="title">Durée trajet</h1>
        <div class="subContent">
            <div *ngIf="user; else notConnected" >
                <form (ngSubmit)="getDuration()" class="textBox">
                    <mat-form-field>
                        <mat-label>Entrez votre destination</mat-label>
                        <input matInput [type]="ville" [(ngModel)]="ville" name="ville" required>
                    </mat-form-field>
                    <div class="button">
                        <button mat-icon-button type="submit">
                            <mat-icon>search</mat-icon>
                        </button>
                    </div>
                </form>
        
                <div *ngIf="calculated" class="response">
                    <div class="map" id="map"></div>
                    {{duree}}
                </div>

            </div>

            <div class="homeButton"><button mat-flat-button (click)="home()" color="accent" class="box" >Menu principal</button></div>
        </div>
    </div>
</body>

<ng-template #notConnected>
    <p>Veuillez vous connecter pour accéder au contenu de cette page.</p>
    <button mat-flat-button (click)="signin()" color="accent" class="box" >Se connecter</button>
</ng-template>
